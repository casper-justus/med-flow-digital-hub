import{r as a,j as e}from"./index-BSlHM_4E.js";import{C as h,a as x,b as j,c as p,B as g}from"./button-RdEEcW_O.js";import{I as v}from"./input-CU9entxE.js";import{L as m}from"./label-DAFhDy5G.js";const T=()=>{const[s,n]=a.useState([{id:1,name:"John Doe",queue:"Triage"},{id:2,name:"Jane Smith",queue:"Doctor",isEmergency:!0},{id:3,name:"Bob Johnson",queue:"Pharmacy"},{id:4,name:"Mike Williams",queue:"Doctor"}]),[i,r]=a.useState(""),[d,N]=a.useState("Triage"),P=()=>{if(i.trim()!==""){const t={id:Math.floor(Math.random()*1e3)+1,name:i,queue:d};n([...s,t]),r("")}},o=t=>{const l=s.findIndex(c=>c.queue===t);if(l!==-1){const c=[...s];c.splice(l,1),n(c)}},f=a.useMemo(()=>s.filter(t=>t.queue==="Triage"),[s]),C=a.useMemo(()=>s.filter(t=>t.queue==="Doctor").sort((t,l)=>t.isEmergency&&!l.isEmergency?-1:!t.isEmergency&&l.isEmergency?1:0),[s]),q=a.useMemo(()=>s.filter(t=>t.queue==="Pharmacy"),[s]);return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Patient Queues"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(u,{title:"Triage",queue:f,onCallNext:()=>o("Triage")}),e.jsx(u,{title:"Doctor",queue:C,onCallNext:()=>o("Doctor")}),e.jsx(u,{title:"Pharmacy",queue:q,onCallNext:()=>o("Pharmacy")})]}),e.jsxs(h,{className:"mt-6",children:[e.jsx(x,{children:e.jsx(j,{children:"Add Patient to Queue"})}),e.jsxs(p,{children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"w-1/2",children:[e.jsx(m,{htmlFor:"patient-name",children:"Patient Name"}),e.jsx(v,{id:"patient-name",value:i,onChange:t=>r(t.target.value)})]}),e.jsxs("div",{className:"w-1/2",children:[e.jsx(m,{htmlFor:"queue-select",children:"Select Queue"}),e.jsxs("select",{id:"queue-select",value:d,onChange:t=>N(t.target.value),className:"w-full p-2 border rounded",children:[e.jsx("option",{value:"Triage",children:"Triage"}),e.jsx("option",{value:"Doctor",children:"Doctor"}),e.jsx("option",{value:"Pharmacy",children:"Pharmacy"})]})]})]}),e.jsx(g,{onClick:P,className:"mt-4",children:"Add Patient"})]})]})]})},u=a.memo(({title:s,queue:n,onCallNext:i})=>e.jsxs(h,{children:[e.jsx(x,{children:e.jsxs(j,{children:[s," Queue"]})}),e.jsxs(p,{children:[n.length>0?e.jsx("ul",{children:n.map(r=>e.jsx("li",{className:"p-2 border-b",children:r.name},r.id))}):e.jsx("p",{children:"No patients in the queue."}),e.jsx(g,{onClick:i,className:"mt-4",disabled:n.length===0,children:"Call Next Patient"})]})]}));export{T as default};
